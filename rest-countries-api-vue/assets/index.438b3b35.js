var P=Object.defineProperty,U=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var w=(t,e,o)=>e in t?P(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,$=(t,e)=>{for(var o in e||(e={}))S.call(e,o)&&w(t,o,e[o]);if(b)for(var o of b(e))j.call(e,o)&&w(t,o,e[o]);return t},C=(t,e)=>U(t,O(e));import{r as m,o as l,c as u,a as c,b as d,w as x,u as f,f as F,d as y,e as R,g as T,n as B,h as H,i as D,j as q,k as E,t as g,l as M,m as W,F as v,p as L,q as z,s as K,v as G,x as J}from"./vendor.79e132da.js";const Q=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function o(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=o(s);fetch(s.href,r)}};Q();function V(){const t=localStorage.getItem("theme");let e="";t?(e=t==="dark"?"light":"dark",localStorage.setItem("theme",e),document.documentElement.classList.replace(t,e)):(e="dark",localStorage.setItem("theme",e),document.documentElement.classList.add(e))}function X(){const t=localStorage.getItem("theme"),e=window.matchMedia("(prefers-color-scheme: dark)").matches;!t||(t==="dark"||e)&&(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"))}const Y={class:"py-4 bg-ligthEl dark:bg-darkEl"},Z={class:"flex justify-between w-11/12 mx-auto"},ee={class:"text-lg font-semibold"},te=y("Where in the world?"),oe={class:"w-8 h-6"},ne=c("p",null,"Dark mode",-1),se={setup(t){return(e,o)=>{const n=m("router-link"),s=m("font-awesome-icon");return l(),u("header",Y,[c("div",Z,[c("h1",ee,[d(n,{to:"/"},{default:x(()=>[te]),_:1})]),c("button",{onClick:o[0]||(o[0]=(...r)=>f(V)&&f(V)(...r)),class:"flex max-h-6"},[c("div",oe,[d(s,{icon:f(F)},null,8,["icon"])]),ne])])])}}},re="https://restcountries.com/v3";class ae{constructor(){this.API_URL=re}findAll(){return new Promise(e=>{fetch(this.API_URL+"/all").then(o=>o.json()).then(o=>{e(o)})})}findOneByName(e){return new Promise(o=>{fetch(this.API_URL+"/name/"+e.toLocaleLowerCase()).then(n=>n.json()).then(n=>{o(n)})})}}var ce=new ae;const a=R({countries:null,data:null,filters:{}}),ie={getAll:async function(){!a.countries&&a.data&&(a.countries=a.data),!a.data&&!a.countries&&(a.countries=await ce.findAll(),a.data=a.countries)},setFilter(t,e){e?e.length==0?delete a.filters[t]:a.filters=C($({},a.filters),{[t]:e.toLocaleLowerCase()}):delete a.filters[t];const o=Object.getOwnPropertyNames(a.filters);a.countries=a.data.filter(n=>{for(const s of o)if(s==="name"){if(!n.name.official.toLocaleLowerCase().includes(a.filters[s]))return!1}else if(!n[s].toLocaleLowerCase().includes(a.filters[s]))return!1;return!0})}};var le={state:a,methods:ie},k=(t,e)=>{const o=t.__vccOpts||t;for(const[n,s]of e)o[n]=s;return o};const ue={beforeMount(){X()},components:{UIHeaderVue:se},provide(){return{store:le}}},de={class:"bg-bgLight text-ligthText dark:bg-bgDark dark:text-darkText"};function me(t,e,o,n,s,r){const i=m("UIHeaderVue"),h=m("RouterView");return l(),u("div",de,[d(i),d(h)])}var fe=k(ue,[["render",me]]);const he="modulepreload",I={},pe="./",_e=function(e,o){return!o||o.length===0?e():Promise.all(o.map(n=>{if(n=`${pe}${n}`,n in I)return;I[n]=!0;const s=n.endsWith(".css"),r=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${r}`))return;const i=document.createElement("link");if(i.rel=s?"stylesheet":he,s||(i.as="script",i.crossOrigin=""),i.href=n,document.head.appendChild(i),s)return new Promise((h,p)=>{i.addEventListener("load",h),i.addEventListener("error",p)})})).then(()=>e())},ge={},ye={class:"w-11/12 max-w-6xl mx-auto"};function ke(t,e){return l(),u("div",ye,[T(t.$slots,"default")])}var ve=k(ge,[["render",ke]]);const xe={setup(t){return{classes:"bg-ligthText m-0 bg-opacity-10 border border-transparent animate-pulse"+t.class}}};function be(t,e,o,n,s,r){return l(),u("div",{class:B(n.classes)},null,2)}var we=k(xe,[["render",be]]);const $e={class:"flex flex-col justify-between md:flex-row"},Ce={class:"relative mb-4"},Le={class:"relative w-max"},Ve=q('<option value="">Filer by region</option><option value="americas">America</option><option value="africa">Africa</option><option value="asia">Asia</option><option value="europe">Europa</option><option value="oceania">Oceania</option>',6),Ie=[Ve],Ee={emits:["change"],setup(t,{emit:e}){const o=n=>{const s=n.target.name,r=n.target.value;e("change",{key:s,value:r})};return(n,s)=>{const r=m("font-awesome-icon");return l(),u("div",$e,[c("div",Ce,[d(r,{class:"absolute left-2 top-3",icon:f(H)},null,8,["icon"]),c("input",{type:"text",class:"px-8 py-2 border border-transparent rounded-sm shadow-sm outline-none text-ligthInput dark:text-darkText dark:bg-darkEl",placeholder:"Search for a country...",name:"name",id:"name",onChange:o},null,32)]),c("div",Le,[d(r,{class:"absolute right-3 top-3",icon:f(D)},null,8,["icon"]),c("select",{class:"px-4 py-2 pr-12 appearance-none w-42 bg-ligthEl dark:bg-darkEl text-ligthInput dark:text-darkText",name:"region",id:"region",placeholder:"Filer by region",onChange:o},Ie,32)])])}}},Ae=t=>{for(const e in t)return t[e]},Ge=t=>{const e=t.nativeName,o=Object.getOwnPropertyNames(e)[0];return e[o].common},Je=t=>{const e=[];for(const o in t)e.push(t[o].name);return e},Ne=["src","alt"],Pe={class:"p-2"},Ue={class:"mb-1 text-xl font-bold"},Oe=y(" Population: "),Se=y(" Region: "),je={key:0},Fe=y(" Capital: "),Re={props:{country:{type:Object,required:!0}},setup(t){return(e,o)=>{const n=m("router-link");return l(),E(n,{to:`/${t.country.name.common}`,class:"inline-block max-w-full bg-ligthEl dark:bg-darkEl"},{default:x(()=>[c("img",{class:"inline-block object-cover w-full max-w-full h-44",src:f(Ae)(t.country.flags),alt:t.country.name},null,8,Ne),c("div",Pe,[c("h1",Ue,g(t.country.name.official),1),c("p",null,[Oe,c("span",null,g(t.country.population),1)]),c("p",null,[Se,c("span",null,g(t.country.region),1)]),t.country.capital?(l(),u("p",je,[Fe,c("span",null,g(t.country.capital[0]),1)])):M("",!0)])]),_:1},8,["to"])}}},Te={name:"homeView",components:{UIContainerVue:ve,CountryCardVue:Re,HomeFiltersVue:Ee,UIBoxLoadingVue:we},async beforeCreate(){await this.store.methods.getAll()},setup(){const t=W("store");return{store:t,handleChange:({key:o,value:n})=>{t.methods.setFilter(o,n)}}}},Be={class:"min-h-screen mt-4"},He={class:"grid justify-center grid-cols-1 gap-3 mt-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5"},De={key:1,class:"grid justify-center grid-cols-1 gap-3 mt-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5"};function qe(t,e,o,n,s,r){const i=m("HomeFiltersVue"),h=m("CountryCardVue"),p=m("UIBoxLoadingVue"),N=m("UIContainerVue");return l(),u("main",Be,[d(N,null,{default:x(()=>[n.store.state.countries?(l(),u(v,{key:0},[d(i,{onChange:n.handleChange},null,8,["onChange"]),c("div",He,[(l(!0),u(v,null,L(n.store.state.countries,_=>(l(),E(h,{key:_.name,country:_},null,8,["country"]))),128))])],64)):(l(),u("div",De,[(l(),u(v,null,L([1,2,3,4,5,6,7,8,9,10,11,12],_=>c("div",{class:"w-full h-56 max-w-full rounded-md bg-ligthEl dark:bg-darkEl animate-pulse",key:`lodaingEl${_}`},[d(p,{class:"h-24"}),d(p,{class:"my-2 h-9"}),d(p,{class:"h-16 mb-2"})])),64))]))]),_:1})])}var Me=k(Te,[["render",qe]]);const We=z({history:K("./"),routes:[{path:"/",name:"homeView",component:Me},{path:"/:countryName",name:"country",component:()=>_e(()=>import("./CountryView.3c0733a6.js"),["assets/CountryView.3c0733a6.js","assets/CountryView.43833fb1.css","assets/vendor.79e132da.js"]),props:!0}]});const A=G(fe);A.use(We);A.component("font-awesome-icon",J).mount("#app");export{ce as C,ve as U,k as _,Ge as a,Je as g};
